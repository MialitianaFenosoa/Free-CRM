@page
@{
    ViewData["Title"] = "Import CSV";
}
<style>
    .centered-form {
        max-width: 600px; /* Réduit la largeur à 600px */
        margin: 50px auto; /* Centre horizontalement et ajoute un espace en haut */
        padding: 20px; /* Ajoute du padding pour l'intérieur */
        background-color: #f9f9f9; /* Fond léger */
        border: 1px solid #ddd; /* Bordure douce */
        border-radius: 8px; /* Coins arrondis */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre légère */
    }

    .card-title {
        font-size: 24px; /* Taille de police plus grande */
        font-weight: bold; /* Texte en gras */
        text-align: center; /* Centrer le titre */
        margin-bottom: 20px; /* Ajouter un espace sous le titre */
    }

    .form-control {
        height: 38px;
        font-size: 14px; 
    }

    .input-group .btn {
        font-size: 14px; 
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        font-size: 16px;
        padding: 10px 20px;
    }

    .btn-primary[disabled] {
        opacity: 0.65;
    }

    .v-cloak {
        display: none;
    }

</style>
<div id="app" class="container-fluid" v-cloak>
    <div class="card-body login-card-body row">
        <p class="card-title  ">@ViewData["Title"]</p>

        <form  class="input-group col-5 row" v-on:submit.prevent="handleSubmit">
            <div  class="input-group col-10 mb-3" v-for="(input, index) in state.fileInputs" :key="input.id" class="input-group mb-3">
                <input type="file" class="form-control" v-on:change="event => handleFileUpload(event, input.id)">
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-file-csv"></span>
                    </div>
                </div>
                <button type="button" class="btn btn-danger" v-on:click="removeFileInput(input.id)" v-if="state.fileInputs.length > 1">
                    <i class="fas fa-trash"></i>
                </button>
            </div>

            <!-- Add CSV Button -->
            <button type="button" class="btn btn-secondary mb-3 col-5" v-on:click="addFileInput">
                <i class="fas fa-plus"></i> Add CSV
            </button>

            <!-- Separator Input -->
            <div class="col-9">
                <label for="separator">Separator</label>
                <input type="text" id="separator" class="form-control" v-model="state.separator" placeholder="Enter separator (default: ,)">
            </div>

            <!-- Submit Button -->
            <div class="text-center col-5">
                <button type="submit" class="btn btn-primary btn-block" v-bind:disabled="state.isSubmitting">
                    <span class="spinner-border spinner-border-sm me-2" v-if="state.isSubmitting"></span>
                    <span>{{ state.isSubmitting ? '...' : 'Import' }}</span>
                </button>
            </div>
        </form>
    </div>
</div>

@section scripts {
    <script type="module" src="~/FrontEnd/Pages/Csv/CsvForm.cshtml.js"></script>
}
